@model IEnumerable<ITGlobalProject.Models.Tasks>

<div id="chiTietDuAnPartialID">
    <div class="row">
        <div class="col-12 mb-4">
            <!-- nav  -->
            <ul class="nav nav-lb-tab">
                <li class="nav-item ms-0 me-3">
                    <a role="button" class="nav-link " id="tongQuanID">Tổng quan</a>
                </li>
                <li class="nav-item mx-3">
                    <a role="button" class="nav-link " id="congViecID">Công việc</a>
                </li>
                <li class="nav-item mx-3">
                    <a role="button" class="nav-link " id="nganSachID">Công nợ</a>
                </li>
                <li class="nav-item mx-3">
                    <a role="button" class="nav-link active" id="taiLieuID">Tài liệu</a>
                </li>
                <li class="nav-item mx-3">
                    <a role="button" class="nav-link" id="doiNguID">Đội ngũ</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="row">
        <!-- col -->
        <div class="col-12">
            <!-- card -->
            <div class="card">
                <!-- table -->
                <table id="dataTableBasic" class="table table-hover" style="width:100%">
                    <thead class="table-light">
                        <tr>
                            <th scope="col" class="border-top-0">Tên tài liệu</th>
                            <th scope="col" class="border-top-0 ">Ngày tạo</th>
                            <th scope="col" class="border-top-0 ">Tạo bởi</th>
                            <th scope="col" class="border-top-0 ">Công việc</th>
                            <th scope="col" class="border-top-0 ">Liên kết</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td style="text-align:center" class="align-middle">
                                    <div class="d-flex align-items-center">
                                        @if (item.DocumentType.Equals("xlsx"))
                                        {
                                            if (item.DocumentURL.Length > 0)
                                            {
                                                <div class="icon-shape icon-lg rounded-3 bg-light-success ">
                                                    <a href="@item.DocumentURL" target="_blank">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                                             class="bi bi-file-word text-success" viewBox="0 0 16 16">
                                                            <path d="M4.879 4.515a.5.5 0 0 1 .606.364l1.036 4.144.997-3.655a.5.5 0 0 1 .964 0l.997 3.655 1.036-4.144a.5.5 0 0 1 .97.242l-1.5 6a.5.5 0 0 1-.967.01L8 7.402l-1.018 3.73a.5.5 0 0 1-.967-.01l-1.5-6a.5.5 0 0 1 .364-.606z" />
                                                            <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z" />
                                                        </svg>
                                                    </a>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="icon-shape icon-lg rounded-3 bg-light-success ">
                                                    <a>
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                                             class="bi bi-file-word text-success" viewBox="0 0 16 16">
                                                            <path d="M4.879 4.515a.5.5 0 0 1 .606.364l1.036 4.144.997-3.655a.5.5 0 0 1 .964 0l.997 3.655 1.036-4.144a.5.5 0 0 1 .97.242l-1.5 6a.5.5 0 0 1-.967.01L8 7.402l-1.018 3.73a.5.5 0 0 1-.967-.01l-1.5-6a.5.5 0 0 1 .364-.606z" />
                                                            <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z" />
                                                        </svg>
                                                    </a>
                                                </div>
                                            }
                                        }
                                        else if (item.DocumentType.Equals("docx"))
                                        {
                                            if (item.DocumentURL.Length > 0)
                                            {
                                                <div class="icon-shape icon-lg rounded-3 bg-light-info ">
                                                    <a href="@item.DocumentURL" target="_blank">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-file-word text-info" viewBox="0 0 16 16">
                                                            <path d="M4.879 4.515a.5.5 0 0 1 .606.364l1.036 4.144.997-3.655a.5.5 0 0 1 .964 0l.997 3.655 1.036-4.144a.5.5 0 0 1 .97.242l-1.5 6a.5.5 0 0 1-.967.01L8 7.402l-1.018 3.73a.5.5 0 0 1-.967-.01l-1.5-6a.5.5 0 0 1 .364-.606z"></path>
                                                            <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"></path>
                                                        </svg>
                                                    </a>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="icon-shape icon-lg rounded-3 bg-light-info ">
                                                    <a>
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-file-word text-info" viewBox="0 0 16 16">
                                                            <path d="M4.879 4.515a.5.5 0 0 1 .606.364l1.036 4.144.997-3.655a.5.5 0 0 1 .964 0l.997 3.655 1.036-4.144a.5.5 0 0 1 .97.242l-1.5 6a.5.5 0 0 1-.967.01L8 7.402l-1.018 3.73a.5.5 0 0 1-.967-.01l-1.5-6a.5.5 0 0 1 .364-.606z"></path>
                                                            <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"></path>
                                                        </svg>
                                                    </a>
                                                </div>
                                            }
                                        }
                                        else if (item.DocumentType.Equals("pptx"))
                                        {
                                            if (item.DocumentURL.Length > 0)
                                            {
                                                <div class="icon-shape icon-lg rounded-3 bg-light-danger ">
                                                    <a href="@item.DocumentURL" target="_blank">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                                             class="bi bi-file-ppt text-danger" viewBox="0 0 16 16">
                                                            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z" />
                                                            <path d="M6 5a1 1 0 0 1 1-1h1.188a2.75 2.75 0 0 1 0 5.5H7v2a.5.5 0 0 1-1 0V5zm1 3.5h1.188a1.75 1.75 0 1 0 0-3.5H7v3.5z" />
                                                        </svg>
                                                    </a>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="icon-shape icon-lg rounded-3 bg-light-danger ">
                                                    <a>
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                                             class="bi bi-file-ppt text-danger" viewBox="0 0 16 16">
                                                            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z" />
                                                            <path d="M6 5a1 1 0 0 1 1-1h1.188a2.75 2.75 0 0 1 0 5.5H7v2a.5.5 0 0 1-1 0V5zm1 3.5h1.188a1.75 1.75 0 1 0 0-3.5H7v3.5z" />
                                                        </svg>
                                                    </a>
                                                </div>
                                            }
                                        }
                                        else if (item.DocumentType.Equals("txt"))
                                        {
                                            if (item.DocumentURL.Length > 0)
                                            {
                                                <div class="icon-shape icon-lg rounded-3 bg-light-warning ">
                                                    <a href="@item.DocumentURL" target="_blank">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                                             class="bi bi-file-text text-warning" viewBox="0 0 16 16">
                                                            <path d="M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z" />
                                                            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z" />
                                                        </svg>
                                                    </a>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="icon-shape icon-lg rounded-3 bg-light-warning ">
                                                    <a>
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                                             class="bi bi-file-text text-warning" viewBox="0 0 16 16">
                                                            <path d="M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z" />
                                                            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z" />
                                                        </svg>
                                                    </a>
                                                </div>
                                            }
                                        }
                                        <div class="ms-3">
                                            <h5 class="mb-0">
                                                @if (item.DocumentURL.Length > 0)
                                                {
                                                    <a href="@item.DocumentURL" target="_blank" class="text-inherit">
                                                        @(item.DocumentName).@(item.DocumentType)
                                                    </a>
                                                }
                                                else
                                                {
                                                    <a class="text-inherit">
                                                        @(item.DocumentName).@(item.DocumentType)
                                                    </a>
                                                }
                                            </h5>
                                        </div>
                                    </div>
                                </td>
                                <td class="align-middle ">
                                    @item.Histories.First(t => t.Contents.Equals("đã thêm công việc")).Date.ToString("dd") Thg @item.Histories.First(t => t.Contents.Equals("đã thêm công việc")).Date.ToString("MM, yyyy")
                                </td>
                                <td class="align-middle">
                                    <div class="d-flex align-items-center">
                                        <div class="avatar avatar-sm avatar-danger">
                                            @if (string.IsNullOrEmpty(item.Employees.Avatar))
                                            {
                                                <span class="avatar-initials rounded-circle "> @item.Employees.Name.Substring(0, 1) </span>
                                            }
                                            else
                                            {
                                                <img src="@item.Employees.Avatar" alt="" class="avatar-initials rounded-circle">
                                            }
                                        </div>
                                        <div class="ms-2">
                                            <a href="@Url.Action("thongTinChiTiet", "QuanLyNhanSu", new {id = item.ID_Employee})" target="_blank"><h5 class="mb-0">@item.Employees.Name </h5></a>
                                        </div>
                                    </div>

                                </td>
                                <td class="align-middle h5">
                                    @(item.ID). @item.Name
                                </td>
                                <td class="align-middle ">
                                    @if (item.DocumentURL.Length > 0)
                                    {
                                        <a href="@item.DocumentURL" target="_blank" class="text-muted text-primary-hover ms-3 texttooltip" data-template="link-@item.ID">
                                            <i class="fe fe-link fs-3"></i>
                                            <div id="link-@item.ID" class="d-none">
                                                <span class="mb-0 text-white">Đường dẫn đến tài liệu</span>
                                            </div>
                                        </a>
                                    }
                                    else
                                    {
                                        <a disable="disable" class="text-muted text-primary-hover ms-3 texttooltip" data-template="link-@item.ID">
                                            <i class="fe fe-link fs-3"></i>
                                            <div id="link-@item.ID" class="d-none">
                                                <span class="mb-0 text-white">Không có đường dẫn</span>
                                            </div>
                                        </a>
                                    }
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

